# 환경 변수 기본값 표준화 작업

**작성일**: 2025-10-20
**작업자**: Claude Code
**우선순위**: 🟢 Low
**예상 시간**: 15분

---

## 📋 작업 개요

CLI 명령어 간 환경 변수 기본값 표기가 일관되지 않은 문제를 해결합니다.

---

## 🐛 문제 상황

### 현재 코드

**sequence.py:32**:
```python
default=os.getenv("SEQUENCE_DIAGRAM_OUTPUT_DIR", "output/sequence-diagram"),
```

**class_spec.py:26**:
```python
output_dir = os.getenv("CLASS_SPEC_OUTPUT_DIR", "./output/class-spec")
```

### 문제점
1. **경로 표기 불일치**: `output/...` vs `./output/...`
2. **유지보수 어려움**: 어느 것이 표준인지 불명확
3. **env.example 누락**: 일부 환경 변수가 예제 파일에 없음

---

## 🔧 해결 방안

### 표준 규칙
1. **상대 경로는 `./` 접두사 없이 표기** (Unix/Windows 공통 호환성)
2. **모든 출력 경로는 `./output/` 하위에 위치**
3. **env.example에 모든 기본값 명시**

---

## 📝 수정 계획

### Step 1: class_spec.py 경로 수정

**Before**:
```python
output_dir = os.getenv("CLASS_SPEC_OUTPUT_DIR", "./output/class-spec")
```

**After**:
```python
output_dir = os.getenv("CLASS_SPEC_OUTPUT_DIR", "output/class-spec")
```

**변경 이유**: 다른 명령어(sequence, crud)와 일관성 유지

---

### Step 2: env.example 확인 및 보완

**현재 env.example 확인 필요**:
- SEQUENCE_DIAGRAM_OUTPUT_DIR 존재 여부
- CLASS_SPEC_OUTPUT_DIR 존재 여부
- CRUD_MATRIX_OUTPUT_DIR 존재 여부

**추가 필요 시**:
```bash
# 출력 디렉터리 설정 (선택사항)
SEQUENCE_DIAGRAM_OUTPUT_DIR=output/sequence-diagram
CLASS_SPEC_OUTPUT_DIR=output/class-spec
CRUD_MATRIX_OUTPUT_DIR=output/crud-matrix
```

---

## 📊 효과

### 일관성 향상
- **Before**: `./output/class-spec` vs `output/sequence-diagram`
- **After**: 모든 경로가 `output/...` 형식으로 통일

### 유지보수성 향상
- env.example 파일 하나로 모든 기본값 확인 가능
- 새로운 개발자도 쉽게 이해 가능

---

## ✅ 테스트 계획

### 1. 환경 변수 없이 실행 (기본값 사용)

```bash
# CLASS_SPEC_OUTPUT_DIR 환경 변수가 없는 상태에서
python -m csa.cli.main class-spec --project-name car-center-devlab --class-name NotificationRepository
```

**기대 결과**:
- 출력 경로: `output/class-spec/...`
- 정상 동작

### 2. 환경 변수로 커스텀 경로 지정

```bash
# .env 파일에 CLASS_SPEC_OUTPUT_DIR=custom/output/path 설정 후
python -m csa.cli.main class-spec --project-name car-center-devlab --class-name NotificationRepository
```

**기대 결과**:
- 출력 경로: `custom/output/path/...`
- 정상 동작

---

## 📋 체크리스트

- [ ] Step 1: `class_spec.py` 경로 수정
- [ ] Step 2: `env.example` 확인 및 보완
- [ ] 테스트 1: 기본값으로 실행
- [ ] 테스트 2: 커스텀 경로로 실행

---

## 🎯 완료 기준

1. ✅ 모든 출력 경로가 `output/...` 형식으로 통일
2. ✅ env.example에 모든 출력 디렉터리 환경 변수 명시
3. ✅ 기존 기능 정상 작동

---

## 📝 작업 로그

### 시작 시간
- 2025-10-20 21:05:00

### 종료 시간
- (작업 완료 후 기록)

### 실제 소요 시간
- (작업 완료 후 기록)

### 이슈/특이사항
- (작업 중 발견된 이슈 기록)
